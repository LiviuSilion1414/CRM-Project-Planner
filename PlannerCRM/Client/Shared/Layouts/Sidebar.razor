<aside class="aside-container">
    <div class="d-flex" style="position: fixed; height: 100%;">
        <nav class="sidebar bg-light border" style="@_sidebarStyle" id="sidebar">
            <ul class="list-unstyled p-0 m-0">
                <li class="p-2">
                    <button class="btn btn-light w-100 text-start" @onclick="OnMenuExpansion">
                        <i class="bi @_menuStatus sidebar-icon"></i>
                    </button>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/home">
                        <i class="bi bi-house sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Home</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/recently">
                        <i class="bi bi-clock sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Recently</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/workOrders">
                        <i class="bi bi-briefcase sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>WorkOrders</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/activities">
                        <i class="bi bi-check2-circle sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Tasks</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/contacts">
                        <i class="bi bi-people sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Contacts</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/statistics">
                        <i class="bi bi-bar-chart sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Statistics</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/calendar">
                        <i class="bi bi-calendar-event sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Calendar</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/invoices">
                        <i class="bi bi-file-earmark-pdf sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Invoices</span>
                        }
                    </a>
                </li>
                <li class="w-100 sidebar-item">
                    <a class="nav-link text-dark d-flex align-items-center" href="/settings">
                        <i class="bi bi-gear sidebar-icon"></i>
                        @if (_isExpanded)
                        {
                            <span>Settings</span>
                        }
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</aside>

<style>
    .sidebar {
        height: 100vh;
    }

    .aside-container {
        margin-right: 200px;
    } 

    .sidebar-icon {
        font-size: 1.5rem;
        margin-right: 16px;
        padding: 8px;
    }

    .sidebar-item {
        padding: 12px 16px;
        display: flex;
        align-items: center;
    }

    .nav-link {
        text-decoration: none;
    }

        .nav-link:hover {
            background-color: #f8f9fa;
            border-radius: 4px;
        }
</style>

@code {
    private bool _isExpanded = true;
    private bool _isItemOnHover = false;
    private string _menuStatus = MenuStatus.CLOSE;

    private string _sidebarStyle => _isExpanded ? SidebarStyle.MAX_WIDTH : SidebarStyle.MIN_WIDTH;

    private void OnMenuExpansion()
    {
        _isExpanded = !_isExpanded;
        _menuStatus = _isExpanded ? MenuStatus.CLOSE : MenuStatus.OPEN;
    }

    public static class MenuStatus
    {
        public const string CLOSE = "bi-chevron-left";
        public const string OPEN = "bi-list";
    }

    public static class SidebarStyle
    {
        public const string MAX_WIDTH = "width: 250px; transition: width 0.3s;";
        public const string MIN_WIDTH = "width: 56px; transition: width 0.3s;";
    }
}
